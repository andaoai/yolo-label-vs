# YOLO Label VS - AI 检测功能

## 概述

YOLO Label VS 现已添加 AI 辅助检测功能，利用 YOLOv5 ONNX 模型自动检测对象，加速标注工作流程。该功能允许您加载自定义 YOLOv5 ONNX 模型，并将检测结果直接应用到当前图像上。

## 功能

- 加载自定义 YOLOv5 ONNX 模型
- 配置检测阈值（分数、NMS、置信度）
- 一键检测当前图像中的对象
- 预览检测结果，并可一键应用到画布
- 标记 AI 检测的标签，便于区分

## 使用方法

### 配置和运行 AI 检测

1. 点击工具栏中的 AI 助手按钮 (或按空格键)
2. 在弹出的配置对话框中：
   - 输入 ONNX 模型路径（或点击"浏览..."选择）
   - 调整各阈值参数（默认值通常适用于大多数场景）
   - 点击"应用并测试"
3. 模型加载成功后，系统会自动对当前图像进行推理
4. 检测结果会以虚线框的形式显示在画布上
5. 按空格键将检测结果应用到画布（添加为正式标签）

### 快捷键

- **空格键**：打开 AI 配置（未配置时）或运行 AI 推理（已配置时）
- **空格键**：应用当前 AI 检测结果（有待应用的结果时）

### AI 标签

- AI 检测的标签会在标签列表中以"AI:"前缀标记
- 画布上 AI 检测的标签以虚线边框显示

## 技术要求

- 已安装 ONNX Runtime（扩展已包含）
- 兼容的 YOLOv5 ONNX 模型（必须是 YOLOv5 格式）
- 对于 GPU 加速，需要具备兼容的硬件和驱动程序

## 常见问题

### 我应该使用什么 ONNX 模型？

您可以使用导出为 ONNX 格式的 YOLOv5 模型。在 YOLOv5 中可以使用以下命令导出：

```bash
python export.py --weights yolov5s.pt --include onnx
```

或使用 Ultralytics YOLOv5 官方提供的预训练模型。

### 为什么检测结果不准确？

检测精度取决于多个因素：

1. 模型质量（训练数据、训练参数等）
2. 阈值设置（分数阈值、NMS阈值等）
3. 目标图像与训练数据的相似程度

尝试调整阈值参数或使用针对特定领域训练的模型。

### 支持哪些类别？

类别名称自动从您的 YAML 配置文件中读取。确保您使用的 ONNX 模型与您的配置文件具有相同的类别结构。

## 未来功能

- SAM (Segment Anything Model) 集成，用于自动分割
- 可训练模型，基于当前数据集优化检测结果
- 批量处理功能，一次处理多张图像 